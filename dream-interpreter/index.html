<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI å¤¢å¢ƒè§£æå™¨ ğŸŒ™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .dream-input {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .dream-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .category-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .category-btn:hover, .category-btn.active {
            background: rgba(255,255,255,0.4);
            transform: translateY(-2px);
        }

        .dream-text {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: none;
            border-radius: 15px;
            background: rgba(255,255,255,0.9);
            color: #333;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 20px;
        }

        .dream-text:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        .analyze-btn {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result {
            display: none;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .interpretation {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .symbols {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .symbol-card {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .share-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            opacity: 0.7;
            font-size: 0.9rem;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .dream-categories {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="stars"></div>
    
    <div class="container">
        <div class="header">
            <h1>AI å¤¢å¢ƒè§£æå™¨ ğŸŒ™</h1>
            <p>æ¢ç´¢ä½ å¤¢å¢ƒæ·±è™•çš„ç§˜å¯†ï¼Œç™¼ç¾æ½›æ„è­˜çš„æ™ºæ…§</p>
        </div>

        <div class="dream-input">
            <div class="dream-categories">
                <button class="category-btn" data-category="adventure">ğŸ”ï¸ å†’éšªå¤¢</button>
                <button class="category-btn" data-category="fear">ğŸ˜¨ ææ‡¼å¤¢</button>
                <button class="category-btn" data-category="love">ğŸ’• æ„›æƒ…å¤¢</button>
                <button class="category-btn" data-category="flying">âœˆï¸ é£›ç¿”å¤¢</button>
                <button class="category-btn" data-category="future">ğŸ”® é çŸ¥å¤¢</button>
                <button class="category-btn" data-category="past">â³ å›æ†¶å¤¢</button>
                <button class="category-btn" data-category="weird">ğŸ¤¯ å¥‡æ€ªå¤¢</button>
                <button class="category-btn" data-category="other">â“ å…¶ä»–</button>
            </div>
            
            <textarea 
                class="dream-text" 
                placeholder="è«‹è©³ç´°æè¿°ä½ çš„å¤¢å¢ƒ... åŒ…å«å ´æ™¯ã€äººç‰©ã€æƒ…ç·’ã€é¡è‰²ç­‰ç´°ç¯€ï¼Œè¶Šè©³ç´°è§£æè¶Šæº–ç¢º âœ¨"
                maxlength="1000"
            ></textarea>
            
            <button class="analyze-btn" onclick="analyzeDream()">ğŸ”® é–‹å§‹è§£æå¤¢å¢ƒ</button>
        </div>

        <div class="loading">
            <div class="loading-spinner"></div>
            <p>AI æ­£åœ¨æ·±å…¥è§£æä½ çš„å¤¢å¢ƒ...</p>
        </div>

        <div class="result">
            <h2>ğŸŒŸ å¤¢å¢ƒè§£æçµæœ</h2>
            <div class="interpretation"></div>
            
            <h3>ğŸ­ é‡è¦è±¡å¾µæ„ç¾©</h3>
            <div class="symbols"></div>
            
            <h3>ğŸ’¡ ç”Ÿæ´»å»ºè­°</h3>
            <div class="advice"></div>
            
            <div style="margin-top: 20px;">
                <button class="share-btn" onclick="shareDream()">ğŸ“¤ åˆ†äº«è§£æ</button>
                <button class="share-btn" onclick="saveDream()">ğŸ’¾ å„²å­˜å¤¢å¢ƒ</button>
                <button class="share-btn" onclick="newDream()">ğŸŒ™ è§£ææ–°å¤¢å¢ƒ</button>
            </div>
        </div>

        <div class="footer">
            <p>ğŸŒŸ AI å¤¢å¢ƒè§£æå™¨ | æ¢ç´¢æ½›æ„è­˜çš„å¥§ç§˜ | aidevx.pro</p>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæ˜Ÿç©ºèƒŒæ™¯
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // å¤¢å¢ƒåˆ†é¡é¸æ“‡
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // å¤¢å¢ƒè§£ææ¨¡æ¿
        const dreamTemplates = {
            adventure: {
                themes: ['æ¢ç´¢æœªçŸ¥', 'æŒ‘æˆ°è‡ªæˆ‘', 'çªç ´é™åˆ¶', 'è¿½æ±‚è‡ªç”±'],
                symbols: ['å±±å³°ä»£è¡¨ç›®æ¨™', 'è·¯å¾‘ä»£è¡¨é¸æ“‡', 'å·¥å…·ä»£è¡¨èƒ½åŠ›', 'éšœç¤™ä»£è¡¨ææ‡¼']
            },
            fear: {
                themes: ['å…§å¿ƒç„¦æ…®', 'æœªçŸ¥ææ‡¼', 'å£“åŠ›é‡‹æ”¾', 'è‡ªæˆ‘ä¿è­·'],
                symbols: ['é»‘æš—ä»£è¡¨æœªçŸ¥', 'è¿½é€ä»£è¡¨å£“åŠ›', 'èº²è—ä»£è¡¨é€ƒé¿', 'æ€ªç‰©ä»£è¡¨ææ‡¼']
            },
            love: {
                themes: ['æƒ…æ„Ÿæ¸´æœ›', 'é—œä¿‚æœŸå¾…', 'æ„›çš„è¡¨é”', 'å¿ƒéˆé€£çµ'],
                symbols: ['èŠ±æœµä»£è¡¨æ„›æƒ…', 'æ“æŠ±ä»£è¡¨è¦ªå¯†', 'åˆ†é›¢ä»£è¡¨ä¸å®‰', 'é‡é€¢ä»£è¡¨æœŸç›¼']
            },
            flying: {
                themes: ['è‡ªç”±æ¸´æœ›', 'è¶…è¶Šç¾å¯¦', 'æ§åˆ¶åŠ›é‡', 'ç²¾ç¥æ˜‡è¯'],
                symbols: ['ç¿…è†€ä»£è¡¨è‡ªç”±', 'é«˜åº¦ä»£è¡¨è¦–é‡', 'é¢¨ä»£è¡¨è®ŠåŒ–', 'é›²ä»£è¡¨å¤¢æƒ³']
            },
            future: {
                themes: ['ç›´è¦ºæ´å¯Ÿ', 'æ½›æ„è­˜é çŸ¥', 'é¡˜æœ›æŠ•å°„', 'æ™‚é–“æ„ŸçŸ¥'],
                symbols: ['å…‰ä»£è¡¨å¸Œæœ›', 'é–€ä»£è¡¨æ©Ÿæœƒ', 'é¡å­ä»£è¡¨çœŸç›¸', 'é˜ä»£è¡¨æ™‚é–“']
            },
            past: {
                themes: ['å›æ†¶æ•´ç†', 'æƒ…æ„Ÿè™•ç†', 'æˆé•·åæ€', 'æœªäº†æƒ…çµ'],
                symbols: ['ç…§ç‰‡ä»£è¡¨è¨˜æ†¶', 'æˆ¿å­ä»£è¡¨éå»', 'äººä»£è¡¨é—œä¿‚', 'ç‰©å“ä»£è¡¨æƒ…æ„Ÿ']
            }
        };

        // AI å¤¢å¢ƒè§£æ
        async function analyzeDream() {
            const dreamText = document.querySelector('.dream-text').value.trim();
            const selectedCategory = document.querySelector('.category-btn.active');
            
            if (!dreamText) {
                alert('è«‹å…ˆæè¿°ä½ çš„å¤¢å¢ƒ ğŸŒ™');
                return;
            }

            // é¡¯ç¤ºè¼‰å…¥ä¸­
            document.querySelector('.analyze-btn').disabled = true;
            document.querySelector('.loading').style.display = 'block';
            document.querySelector('.result').style.display = 'none';

            // æ¨¡æ“¬ AI åˆ†æéç¨‹
            await new Promise(resolve => setTimeout(resolve, 3000));

            const category = selectedCategory ? selectedCategory.dataset.category : 'other';
            const template = dreamTemplates[category] || {
                themes: ['å€‹äººæˆé•·', 'å…§å¿ƒæ¢ç´¢', 'æ½›æ„è­˜è¡¨é”', 'æƒ…æ„Ÿæ•´ç†'],
                symbols: ['è±¡å¾µä»£è¡¨æ„ç¾©', 'æƒ…å¢ƒåæ˜ å¿ƒå¢ƒ', 'è§’è‰²ä»£è¡¨è‡ªæˆ‘', 'ç’°å¢ƒä»£è¡¨ç‹€æ…‹']
            };

            // ç”Ÿæˆè§£æçµæœ
            generateDreamAnalysis(dreamText, category, template);

            // éš±è—è¼‰å…¥ä¸­ï¼Œé¡¯ç¤ºçµæœ
            document.querySelector('.loading').style.display = 'none';
            document.querySelector('.result').style.display = 'block';
            document.querySelector('.analyze-btn').disabled = false;
        }

        function generateDreamAnalysis(dreamText, category, template) {
            const keywords = extractKeywords(dreamText);
            
            // ç”Ÿæˆè§£æå…§å®¹
            const interpretation = generateInterpretation(dreamText, template.themes);
            const symbols = generateSymbols(keywords, template.symbols);
            const advice = generateAdvice(category, keywords);

            // å¡«å……çµæœ
            document.querySelector('.interpretation').innerHTML = interpretation;
            document.querySelector('.symbols').innerHTML = symbols;
            document.querySelector('.advice').innerHTML = advice;
        }

        function extractKeywords(text) {
            const commonKeywords = ['æ°´', 'ç«', 'å‹•ç‰©', 'äºº', 'æˆ¿å­', 'è»Š', 'é£›', 'è·‘', 'è¿½', 'ç¬‘', 'å“­', 'é»‘', 'ç™½', 'ç´…', 'è—', 'å¤§', 'å°', 'é«˜', 'ä½', 'äº®', 'æš—'];
            return commonKeywords.filter(keyword => text.includes(keyword));
        }

        function generateInterpretation(dreamText, themes) {
            const randomTheme = themes[Math.floor(Math.random() * themes.length)];
            const interpretations = [
                `ä½ çš„å¤¢å¢ƒåæ˜ äº†å° ${randomTheme} çš„æ·±å±¤æ¸´æœ›ã€‚å¤¢ä¸­çš„æƒ…ç¯€æš—ç¤ºä½ æ­£åœ¨ç¶“æ­·é‡è¦çš„å¿ƒç†è½‰åŒ–éç¨‹ã€‚`,
                `é€™å€‹å¤¢å¢ƒè±¡å¾µè‘—ä½ å…§å¿ƒå° ${randomTheme} çš„æ€è€ƒã€‚æ½›æ„è­˜æ­£åœ¨å¹«åŠ©ä½ è™•ç†æ—¥å¸¸ç”Ÿæ´»ä¸­çš„è¤‡é›œæƒ…æ„Ÿã€‚`,
                `å¤¢å¢ƒä¸­å‘ˆç¾çš„å ´æ™¯èˆ‡ ${randomTheme} å¯†åˆ‡ç›¸é—œï¼Œé¡¯ç¤ºä½ çš„å…§åœ¨æ™ºæ…§æ­£åœ¨æŒ‡å¼•ä½ å‰é€²çš„æ–¹å‘ã€‚`
            ];
            
            return `<p>${interpretations[Math.floor(Math.random() * interpretations.length)]}</p>
                   <p>å¤¢å¢ƒçš„æ•´é«”æ°›åœå’Œæƒ…æ„Ÿè‰²èª¿åæ˜ äº†ä½ ç•¶å‰çš„å¿ƒç†ç‹€æ…‹ï¼Œå»ºè­°å¤šé—œæ³¨å…§å¿ƒçš„è²éŸ³ã€‚</p>`;
        }

        function generateSymbols(keywords, templateSymbols) {
            const symbols = [];
            
            // åŸºæ–¼é—œéµå­—ç”Ÿæˆè±¡å¾µ
            if (keywords.includes('æ°´')) symbols.push({ symbol: 'ğŸ’§ æ°´', meaning: 'æƒ…æ„Ÿæµå‹•èˆ‡æ·¨åŒ–' });
            if (keywords.includes('ç«')) symbols.push({ symbol: 'ğŸ”¥ ç«', meaning: 'ç†±æƒ…èˆ‡è½‰åŒ–åŠ›é‡' });
            if (keywords.includes('å‹•ç‰©')) symbols.push({ symbol: 'ğŸ¦‹ å‹•ç‰©', meaning: 'æœ¬èƒ½èˆ‡è‡ªç„¶é€£çµ' });
            if (keywords.includes('é£›')) symbols.push({ symbol: 'ğŸ•Šï¸ é£›ç¿”', meaning: 'è‡ªç”±èˆ‡è¶…è¶Šé™åˆ¶' });
            
            // è£œå……ä¸€èˆ¬è±¡å¾µ
            while (symbols.length < 4) {
                const meanings = ['æ™ºæ…§æŒ‡å¼•', 'å…§å¿ƒåŠ›é‡', 'æƒ…æ„Ÿè¡¨é”', 'æˆé•·æ©Ÿæœƒ', 'æ½›åœ¨èƒ½åŠ›', 'ç›´è¦ºæ´å¯Ÿ'];
                const emojis = ['â­', 'ğŸŒŸ', 'âœ¨', 'ğŸ”®', 'ğŸ’', 'ğŸŒ™'];
                symbols.push({
                    symbol: `${emojis[Math.floor(Math.random() * emojis.length)]} ç¥ç§˜ç¬¦è™Ÿ`,
                    meaning: meanings[Math.floor(Math.random() * meanings.length)]
                });
            }

            return symbols.map(s => `
                <div class="symbol-card">
                    <div style="font-size: 1.5rem; margin-bottom: 8px;">${s.symbol}</div>
                    <div style="font-size: 0.9rem;">${s.meaning}</div>
                </div>
            `).join('');
        }

        function generateAdvice(category, keywords) {
            const adviceBank = {
                adventure: ['å‹‡æ•¢è¿½æ±‚ä½ çš„ç›®æ¨™ï¼Œä¸è¦å®³æ€•æœªçŸ¥çš„æŒ‘æˆ°', 'ç¾åœ¨æ˜¯æ™‚å€™è¸å‡ºèˆ’é©åœˆï¼Œæ¢ç´¢æ–°çš„å¯èƒ½æ€§'],
                fear: ['é¢å°ææ‡¼æ˜¯æˆé•·çš„ç¬¬ä¸€æ­¥ï¼Œç›¸ä¿¡è‡ªå·±æœ‰èƒ½åŠ›å…‹æœ', 'è©¦è‘—ç”¨æ­£é¢çš„è§’åº¦çœ‹å¾…æŒ‘æˆ°å’Œè®ŠåŒ–'],
                love: ['é–‹æ”¾å¿ƒæ‰‰ï¼ŒçœŸèª åœ°è¡¨é”ä½ çš„æƒ…æ„Ÿ', 'åŸ¹é¤Šè‡ªæ„›ï¼Œæ‰èƒ½çµ¦å‡ºå’Œæ¥å—æ›´å¥½çš„æ„›'],
                flying: ['ç›¸ä¿¡è‡ªå·±çš„èƒ½åŠ›ï¼Œä½ æ¯”æƒ³åƒä¸­æ›´æœ‰åŠ›é‡', 'ä¿æŒç©æ¥µæ¨‚è§€çš„æ…‹åº¦ï¼Œè®“å¤¢æƒ³é£›ç¿”'],
                default: ['ç›¸ä¿¡å…§å¿ƒçš„ç›´è¦ºï¼Œå®ƒæ­£åœ¨æŒ‡å¼•ä½ æ­£ç¢ºçš„æ–¹å‘', 'èŠ±æ™‚é–“é—œæ³¨å…§å¿ƒéœ€æ±‚ï¼Œè†è½æ½›æ„è­˜çš„è²éŸ³']
            };

            const categoryAdvice = adviceBank[category] || adviceBank.default;
            const advice = categoryAdvice[Math.floor(Math.random() * categoryAdvice.length)];
            
            return `<p>ğŸŒŸ ${advice}</p>
                   <p>ğŸ’« å»ºè­°ä½ åœ¨æ¥ä¸‹ä¾†çš„å¹¾å¤©å¤šé—œæ³¨ç”Ÿæ´»ä¸­çš„å°ç´°ç¯€ï¼Œå¤¢å¢ƒçš„æ™ºæ…§å¯èƒ½æœƒåœ¨ç¾å¯¦ä¸­å¾—åˆ°é©—è­‰ã€‚</p>`;
        }

        function shareDream() {
            if (navigator.share) {
                navigator.share({
                    title: 'AI å¤¢å¢ƒè§£æçµæœ',
                    text: 'æˆ‘å‰›ç”¨ AI è§£æäº†æˆ‘çš„å¤¢å¢ƒï¼Œçµæœå¾ˆæœ‰è¶£ï¼',
                    url: window.location.href
                });
            } else {
                // è¤‡è£½åˆ°å‰ªè²¼æ¿
                navigator.clipboard.writeText(window.location.href);
                alert('é€£çµå·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            }
        }

        function saveDream() {
            const dreamText = document.querySelector('.dream-text').value;
            const interpretation = document.querySelector('.interpretation').textContent;
            
            const dreamData = {
                date: new Date().toLocaleDateString('zh-TW'),
                dream: dreamText,
                interpretation: interpretation
            };
            
            localStorage.setItem(`dream_${Date.now()}`, JSON.stringify(dreamData));
            alert('å¤¢å¢ƒè§£æå·²å„²å­˜åˆ°æœ¬åœ°ï¼');
        }

        function newDream() {
            document.querySelector('.dream-text').value = '';
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            document.querySelector('.result').style.display = 'none';
            document.querySelector('.dream-text').focus();
        }

        // åˆå§‹åŒ–
        createStars();
        
        // å­—æ•¸çµ±è¨ˆ
        document.querySelector('.dream-text').addEventListener('input', function() {
            const length = this.value.length;
            const maxLength = this.getAttribute('maxlength');
            
            if (length > maxLength * 0.8) {
                this.style.borderColor = length >= maxLength ? '#ff6b6b' : '#feca57';
            } else {
                this.style.borderColor = '';
            }
        });
    </script>
</body>
</html>