<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éˆé­‚ç¶­åº¦æƒæå™¨ - Soul Dimension Scanner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a0a3e 50%, #0f1633 100%);
            color: #00ffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* æ˜Ÿç³»èƒŒæ™¯å‹•ç•« */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #00ffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            animation: glow-in 0.8s ease-out;
        }

        .header h1 {
            font-size: 3em;
            text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .header p {
            font-size: 1.2em;
            color: #88ff00;
            text-shadow: 0 0 10px #88ff00;
        }

        @keyframes glow-in {
            from {
                opacity: 0;
                text-shadow: 0 0 0 #00ffff;
            }
            to {
                opacity: 1;
                text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;
            }
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .questions-section {
            background: rgba(10, 14, 39, 0.8);
            border: 2px solid #00ffff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            max-height: 600px;
            overflow-y: auto;
        }

        .questions-section::-webkit-scrollbar {
            width: 8px;
        }

        .questions-section::-webkit-scrollbar-track {
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
        }

        .questions-section::-webkit-scrollbar-thumb {
            background: #00ffff;
            border-radius: 10px;
        }

        .question-item {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
        }

        .question-item:last-child {
            border-bottom: none;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 12px;
            color: #00ffff;
            font-weight: bold;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            flex: 1;
            height: 6px;
            border-radius: 5px;
            background: linear-gradient(to right, #ff0080, #88ff00, #00ffff);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00ffff;
            cursor: pointer;
            box-shadow: 0 0 10px #00ffff;
            border: 2px solid #fff;
        }

        input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00ffff;
            cursor: pointer;
            box-shadow: 0 0 10px #00ffff;
            border: 2px solid #fff;
        }

        .slider-value {
            min-width: 30px;
            text-align: center;
            font-weight: bold;
            color: #88ff00;
        }

        .result-section {
            position: sticky;
            top: 40px;
        }

        .radar-container {
            background: rgba(10, 14, 39, 0.8);
            border: 2px solid #88ff00;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(136, 255, 0, 0.3);
            text-align: center;
            margin-bottom: 20px;
        }

        canvas {
            max-width: 100%;
            height: auto;
            filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.5));
        }

        .analysis-box {
            background: rgba(10, 14, 39, 0.8);
            border: 2px solid #ff0080;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.3);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .dimension-score {
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dimension-name {
            font-weight: bold;
            color: #00ffff;
        }

        .score-bar {
            flex: 1;
            height: 8px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 5px;
            margin: 0 15px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(to right, #ff0080, #88ff00, #00ffff);
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(136, 255, 0, 0.8);
            transition: width 0.5s ease-out;
        }

        .score-value {
            color: #88ff00;
            font-weight: bold;
            min-width: 30px;
            text-align: right;
        }

        .soul-message {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #ff0080;
            font-style: italic;
            color: #88ff00;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .soul-mantra {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 0, 128, 0.1);
            border-left: 4px solid #ff0080;
            color: #00ffff;
            font-size: 1.05em;
            font-weight: bold;
            text-align: center;
        }

        .submit-btn {
            background: linear-gradient(135deg, #ff0080, #88ff00);
            border: none;
            color: #000;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.5);
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.8);
        }

        .submit-btn:active {
            transform: scale(0.95);
        }

        .loading {
            display: none;
            text-align: center;
            color: #00ffff;
            font-size: 1.2em;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 1024px) {
            .content {
                grid-template-columns: 1fr;
            }

            .result-section {
                position: static;
            }

            .header h1 {
                font-size: 2em;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="starfield" id="starfield"></div>

    <div class="container">
        <div class="header">
            <h1>âœ¨ éˆé­‚ç¶­åº¦æƒæå™¨ âœ¨</h1>
            <p>Soul Dimension Scanner - æ¢ç´¢å…§å¿ƒæ·±è™•çš„ 6 å€‹éˆæ€§ç¶­åº¦</p>
        </div>

        <div class="content">
            <div class="questions-section">
                <form id="scannerForm">
                    <div id="questionsContainer"></div>
                    <button type="submit" class="submit-btn">ğŸš€ æƒææˆ‘çš„éˆé­‚</button>
                </form>
            </div>

            <div class="result-section">
                <div class="radar-container">
                    <h3 style="margin-bottom: 20px; text-shadow: 0 0 10px #88ff00;">éˆé­‚ç¶­åº¦åœ–è­œ</h3>
                    <canvas id="radarChart" width="300" height="300"></canvas>
                </div>

                <div class="analysis-box">
                    <div id="scoresContainer" class="hidden">
                        <div id="dimensionScores"></div>
                        <div class="soul-message" id="soulMessage"></div>
                        <div class="soul-mantra" id="soulMantra"></div>
                    </div>
                    <div id="loading" class="loading">
                        <div class="spinner"></div>
                        <span>æ­£åœ¨æƒææ‚¨çš„éˆé­‚...</span>
                    </div>
                    <div id="initial" style="color: #88ff00; text-align: center;">
                        ğŸ‘ï¸ å›ç­”æ‰€æœ‰å•é¡Œï¼Œé–‹å§‹æƒæ ğŸ‘ï¸
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            { text: "ä½ åœ¨å‰µé€ æ–°äº‹ç‰©æ™‚çš„ç†±æƒ…ç¨‹åº¦ï¼Ÿ", dimension: "creativity" },
            { text: "ä½ å°ä»–äººæ„Ÿå—çš„æ•æ„Ÿåº¦å¦‚ä½•ï¼Ÿ", dimension: "empathy" },
            { text: "åœ¨é¢å°å›°é›£æ™‚ï¼Œä½ çš„å‹‡æ°£æœ‰å¤šå¼·ï¼Ÿ", dimension: "courage" },
            { text: "ä½ å°ç”Ÿå‘½æ·±å±¤æ„ç¾©çš„æ¢ç´¢ç¨‹åº¦ï¼Ÿ", dimension: "wisdom" },
            { text: "ä½ çš„å·¥ä½œèˆ‡ç”Ÿæ´»å¹³è¡¡åº¦å¦‚ä½•ï¼Ÿ", dimension: "balance" },
            { text: "ä½ å°è‡ªæˆ‘æˆé•·çš„æ¸´æœ›æœ‰å¤šå¼·çƒˆï¼Ÿ", dimension: "growth" },
            { text: "ä½ åœ¨äººéš›é—œä¿‚ä¸­çš„çœŸèª åº¦ï¼Ÿ", dimension: "authenticity" },
            { text: "ä½ çš„å…§åœ¨å¹³éœç¨‹åº¦ï¼Ÿ", dimension: "inner-peace" },
            { text: "ä½ å°ç¾å¥½äº‹ç‰©çš„æ¬£è³èƒ½åŠ›ï¼Ÿ", dimension: "appreciation" },
            { text: "ä½ çš„ç›´è¦ºèˆ‡ç›´æ„Ÿæœ‰å¤šæ•éŠ³ï¼Ÿ", dimension: "intuition" },
            { text: "ä½ å°äººç”Ÿç›®æ¨™çš„æ¸…æ™°åº¦ï¼Ÿ", dimension: "clarity" },
            { text: "ä½ çš„æ„›å¿ƒèˆ‡åŒæƒ…å¿ƒçš„å¼·åº¦ï¼Ÿ", dimension: "compassion" }
        ];

        const dimensions = [
            { name: "å‰µæ„åŠ›", key: "creativity", color: "#ff0080" },
            { name: "åŒç†å¿ƒ", key: "empathy", color: "#00ffff" },
            { name: "å‹‡æ°£", key: "courage", color: "#88ff00" },
            { name: "æ™ºæ…§", key: "wisdom", color: "#ffff00" },
            { name: "å¹³è¡¡", key: "balance", color: "#ff8800" },
            { name: "æˆé•·", key: "growth", color: "#ff00ff" }
        ];

        const scores = {};
        let radarChart = null;

        // ç”Ÿæˆæ˜Ÿæ˜ŸèƒŒæ™¯
        function generateStars() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starfield.appendChild(star);
            }
        }

        // åˆå§‹åŒ–å•å·
        function initializeForm() {
            const container = document.getElementById('questionsContainer');
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-item';
                questionDiv.innerHTML = `
                    <div class="question-text">${index + 1}. ${q.text}</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="50" class="slider" 
                               data-dimension="${q.dimension}" data-index="${index}">
                        <span class="slider-value">50</span>
                    </div>
                `;
                container.appendChild(questionDiv);

                const slider = questionDiv.querySelector('.slider');
                const valueSpan = questionDiv.querySelector('.slider-value');
                slider.addEventListener('input', (e) => {
                    valueSpan.textContent = e.target.value;
                    scores[q.dimension] = parseInt(e.target.value);
                    updateRadarChart();
                });

                // åˆå§‹åŒ– scores
                scores[q.dimension] = 50;
            });
        }

        // æ›´æ–°é›·é”åœ–
        function updateRadarChart() {
            const canvas = document.getElementById('radarChart');
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // ç¹ªè£½èƒŒæ™¯ç¶²æ ¼
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.2)';
            ctx.lineWidth = 1;
            for (let i = 1; i <= 5; i++) {
                const r = (radius / 5) * i;
                ctx.beginPath();
                for (let j = 0; j <= dimensions.length; j++) {
                    const angle = (j / dimensions.length) * Math.PI * 2;
                    const x = centerX + r * Math.cos(angle - Math.PI / 2);
                    const y = centerY + r * Math.sin(angle - Math.PI / 2);
                    if (j === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.closePath();
                ctx.stroke();
            }

            // ç¹ªè£½æ•¸æ“šé»é€£ç·š
            ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            dimensions.forEach((d, i) => {
                const angle = (i / dimensions.length) * Math.PI * 2;
                const value = scores[d.key] || 0;
                const r = (value / 100) * radius;
                const x = centerX + r * Math.cos(angle - Math.PI / 2);
                const y = centerY + r * Math.sin(angle - Math.PI / 2);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.closePath();
            ctx.fill();
            ctx.stroke();

            // ç¹ªè£½æ¨™ç±¤
            ctx.fillStyle = '#00ffff';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            dimensions.forEach((d, i) => {
                const angle = (i / dimensions.length) * Math.PI * 2;
                const r = radius + 30;
                const x = centerX + r * Math.cos(angle - Math.PI / 2);
                const y = centerY + r * Math.sin(angle - Math.PI / 2);
                ctx.fillText(d.name, x, y);
            });
        }

        // ç”Ÿæˆéˆé­‚åˆ†æ
        async function generateSoulAnalysis() {
            const loading = document.getElementById('loading');
            const initial = document.getElementById('initial');
            const scoresContainer = document.getElementById('scoresContainer');

            loading.classList.add('active');
            initial.classList.add('hidden');
            scoresContainer.classList.add('hidden');

            // æ¨¡æ“¬ API èª¿ç”¨ï¼ˆå¯¦éš›å¯æ¥ Claude APIï¼‰
            setTimeout(() => {
                displayAnalysis();
                loading.classList.remove('active');
                scoresContainer.classList.remove('hidden');
            }, 2000);
        }

        function displayAnalysis() {
            const dimensionScores = document.getElementById('dimensionScores');
            const soulMessage = document.getElementById('soulMessage');
            const soulMantra = document.getElementById('soulMantra');

            dimensionScores.innerHTML = '';

            // è¨ˆç®—å¹³å‡åˆ†
            const avgScore = Math.round(Object.values(scores).reduce((a, b) => a + b, 0) / Object.keys(scores).length);

            // é¡¯ç¤ºå„ç¶­åº¦åˆ†æ•¸
            dimensions.forEach(d => {
                const score = scores[d.key] || 0;
                const item = document.createElement('div');
                item.className = 'dimension-score';
                item.innerHTML = `
                    <span class="dimension-name">${d.name}</span>
                    <div class="score-bar">
                        <div class="score-fill" style="width: ${score}%; background: linear-gradient(to right, ${d.color}, #88ff00);"></div>
                    </div>
                    <span class="score-value">${score}</span>
                `;
                dimensionScores.appendChild(item);
            });

            // ç”Ÿæˆéˆé­‚è§£è®€
            const messages = [
                "ä½ çš„éˆé­‚åœ¨å…‰èˆ‡å½±ä¹‹é–“èˆå‹•ï¼Œå¹³è¡¡è‘—ç†æ€§èˆ‡æ„Ÿæ€§ã€‚",
                "ä½ å…§åœ¨çš„å…‰èŠ’æ­£åœ¨è¦ºé†’ï¼Œæº–å‚™ç…§äº®ä»–äººçš„é“è·¯ã€‚",
                "ä½ çš„éˆé­‚å……æ»¿éŸŒæ€§ï¼Œåœ¨é¢¨é›¨ä¸­ä¾ç„¶å …å®šå‰è¡Œã€‚",
                "ä½ çš„å…§å¿ƒä¸–ç•Œæ·±é‚ƒè€Œè±å¯Œï¼Œè˜Šå«ç„¡é™çš„å¯èƒ½æ€§ã€‚",
                "ä½ æ­£åœ¨å°‹æ‰¾è‡ªå·±çš„éˆæ€§ä¸­å¿ƒï¼Œé€™æ¢è·¯å……æ»¿ç¾å¥½ã€‚"
            ];

            const mantras = [
                "ğŸ”® æˆ‘æ˜¯å…‰ï¼Œæˆ‘æ˜¯æ„›ï¼Œæˆ‘æ˜¯ç„¡é™çš„å¯èƒ½ã€‚",
                "âœ¨ æ¯ä¸€åˆ»éƒ½æ˜¯æ–°çš„é–‹å§‹ï¼Œæˆ‘æ“æŠ±æ‰€æœ‰çš„æ”¹è®Šã€‚",
                "ğŸ’« æˆ‘çš„éˆé­‚åœ¨é€²åŒ–ï¼Œæˆ‘çš„å¿ƒåœ¨å±•é–‹ã€‚",
                "ğŸŒŸ æˆ‘æ‰¿èªæˆ‘çš„åŠ›é‡ï¼Œæˆ‘æ“æŠ±æˆ‘çš„çœŸå¯¦ã€‚",
                "ğŸ† æˆ‘èµ°å‘å…‰æ˜ï¼Œæˆ‘æˆç‚ºè‡ªå·±çš„å…‰ã€‚"
            ];

            const msgIdx = avgScore % messages.length;
            const mantraIdx = avgScore % mantras.length;

            soulMessage.textContent = messages[msgIdx];
            soulMantra.textContent = mantras[mantraIdx];
        }

        // è¡¨å–®æäº¤
        document.getElementById('scannerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            generateSoulAnalysis();
        });

        // åˆå§‹åŒ–
        generateStars();
        initializeForm();
        updateRadarChart();
    </script>
</body>
</html>
