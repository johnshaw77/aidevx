<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPC è£½ç¨‹ç›£æ§å„€è¡¨æ¿</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            min-height: 100vh;
            overflow-x: auto;
        }

        .header {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .back-link {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .card h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
            color: #ffffff;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .metric-name {
            font-weight: 600;
            color: #ffffff;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .gauge {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            position: relative;
        }

        .gauge-bg {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #ff4444 0% 20%,
                #ffaa00 20% 40%,
                #00ff44 40% 60%,
                #ffaa00 60% 80%,
                #ff4444 80% 100%
            );
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gauge-inner {
            width: 80%;
            height: 80%;
            background: rgba(30, 60, 114, 0.9);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .gauge-value {
            font-size: 2rem;
            font-weight: bold;
            color: white;
        }

        .gauge-unit {
            font-size: 0.9rem;
            color: #cccccc;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-good { background: #00ff44; }
        .status-warning { background: #ffaa00; }
        .status-error { background: #ff4444; }

        .chart-container {
            height: 250px;
            position: relative;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .chart {
            width: 100%;
            height: 100%;
        }

        .alert-box {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 5px solid #ff4444;
        }

        .alert-warning {
            background: linear-gradient(135deg, #ffa726, #ff9800);
            border-left: 5px solid #ffaa00;
        }

        .alert-info {
            background: linear-gradient(135deg, #42a5f5, #1976d2);
            border-left: 5px solid #2196f3;
        }

        .control-panel {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .control-btn.active {
            background: #4caf50;
        }

        .process-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .process-step {
            flex: 1;
            text-align: center;
            padding: 15px 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            min-width: 120px;
            position: relative;
        }

        .process-step::after {
            content: 'â†’';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: #ffffff;
        }

        .process-step:last-child::after {
            display: none;
        }

        .timestamp {
            text-align: center;
            margin-top: 30px;
            color: #cccccc;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .process-flow {
                flex-direction: column;
            }
            
            .process-step::after {
                content: 'â†“';
                right: 50%;
                top: 100%;
                transform: translateX(50%);
            }
            
            .process-step:last-child::after {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="../" class="back-link">â† è¿”å›é¦–é </a>
        <h1>ğŸ­ FPC è£½ç¨‹ç›£æ§å„€è¡¨æ¿</h1>
        <p>è»Ÿæ€§å°åˆ·é›»è·¯æ¿è£½ç¨‹å³æ™‚ç›£æ§ç³»çµ±</p>
    </div>

    <div class="dashboard">
        <!-- é—œéµæŒ‡æ¨™ -->
        <div class="card">
            <h3>ğŸ“Š é—œéµè£½ç¨‹æŒ‡æ¨™</h3>
            <div class="metric">
                <span class="metric-name">
                    <span class="status-indicator status-good"></span>
                    è‰¯ç‡ (Yield Rate)
                </span>
                <span class="metric-value" style="color: #00ff44;" id="yield-rate">98.5%</span>
            </div>
            <div class="metric">
                <span class="metric-name">
                    <span class="status-indicator status-warning"></span>
                    é€±æœŸæ™‚é–“ (Cycle Time)
                </span>
                <span class="metric-value" style="color: #ffaa00;" id="cycle-time">4.2 min</span>
            </div>
            <div class="metric">
                <span class="metric-name">
                    <span class="status-indicator status-good"></span>
                    è¨­å‚™ç¨¼å‹•ç‡ (OEE)
                </span>
                <span class="metric-value" style="color: #00ff44;" id="oee">92.3%</span>
            </div>
            <div class="metric">
                <span class="metric-name">
                    <span class="status-indicator status-good"></span>
                    æ—¥ç”¢é‡
                </span>
                <span class="metric-value" style="color: #00ff44;" id="production">1,847 pcs</span>
            </div>
        </div>

        <!-- è£½ç¨‹åƒæ•¸ç›£æ§ -->
        <div class="card">
            <h3>ğŸŒ¡ï¸ è£½ç¨‹åƒæ•¸ç›£æ§</h3>
            
            <div class="gauge">
                <div class="gauge-bg">
                    <div class="gauge-inner">
                        <div class="gauge-value" id="temperature">185</div>
                        <div class="gauge-unit">Â°C</div>
                    </div>
                </div>
            </div>
            
            <div class="metric">
                <span class="metric-name">å£“åˆå£“åŠ›</span>
                <span class="metric-value" style="color: #00ff44;" id="pressure">2.8 MPa</span>
            </div>
            <div class="metric">
                <span class="metric-name">è•åˆ»é€Ÿç‡</span>
                <span class="metric-value" style="color: #ffaa00;" id="etch-rate">45 Î¼m/min</span>
            </div>
            <div class="metric">
                <span class="metric-name">é˜»æŠ—å€¼</span>
                <span class="metric-value" style="color: #00ff44;" id="impedance">50.2 Î©</span>
            </div>
        </div>

        <!-- è£½ç¨‹æµç¨‹ç‹€æ…‹ -->
        <div class="card">
            <h3>âš™ï¸ è£½ç¨‹æµç¨‹ç‹€æ…‹</h3>
            <div class="process-flow">
                <div class="process-step">
                    <div style="font-size: 1.5rem;">ğŸ“‹</div>
                    <div>åŸºææº–å‚™</div>
                    <div style="color: #00ff44;">æ­£å¸¸</div>
                </div>
                <div class="process-step">
                    <div style="font-size: 1.5rem;">âš¡</div>
                    <div>è•åˆ»è£½ç¨‹</div>
                    <div style="color: #00ff44;">é‹è¡Œä¸­</div>
                </div>
                <div class="process-step">
                    <div style="font-size: 1.5rem;">ğŸ”¥</div>
                    <div>å£“åˆä½œæ¥­</div>
                    <div style="color: #ffaa00;">å¾…æ©Ÿ</div>
                </div>
                <div class="process-step">
                    <div style="font-size: 1.5rem;">ğŸ”</div>
                    <div>å“è³ªæª¢æ¸¬</div>
                    <div style="color: #cccccc;">åœæ©Ÿ</div>
                </div>
            </div>
            
            <div class="control-panel">
                <button class="control-btn active" onclick="toggleProcess('auto')">è‡ªå‹•æ¨¡å¼</button>
                <button class="control-btn" onclick="toggleProcess('manual')">æ‰‹å‹•æ¨¡å¼</button>
                <button class="control-btn" onclick="emergencyStop()">ç·Šæ€¥åœæ­¢</button>
                <button class="control-btn" onclick="resetAlarms()">é‡ç½®è­¦å ±</button>
            </div>
        </div>

        <!-- å“è³ªè¶¨å‹¢åœ– -->
        <div class="card">
            <h3>ğŸ“ˆ å“è³ªè¶¨å‹¢åˆ†æ</h3>
            <div class="chart-container">
                <canvas id="qualityChart" class="chart"></canvas>
            </div>
            <div class="metric">
                <span class="metric-name">Cpk å€¼</span>
                <span class="metric-value" style="color: #00ff44;" id="cpk">1.67</span>
            </div>
            <div class="metric">
                <span class="metric-name">æ¨™æº–å·® (Ïƒ)</span>
                <span class="metric-value" style="color: #00ff44;" id="sigma">0.023</span>
            </div>
        </div>

        <!-- è­¦å ±ç³»çµ± -->
        <div class="card">
            <h3>ğŸš¨ è­¦å ±ç³»çµ±</h3>
            <div class="alert-box alert-info">
                <strong>è³‡è¨Š:</strong> è¨­å‚™é é˜²ä¿é¤Šå°‡æ–¼æ˜æ—¥åŸ·è¡Œ
            </div>
            <div class="alert-box alert-warning">
                <strong>è­¦å‘Š:</strong> è•åˆ»æ§½æ¶²ä½åä½ï¼Œå»ºè­°è£œå……
            </div>
            
            <div class="metric">
                <span class="metric-name">ä»Šæ—¥è­¦å ±æ•¸</span>
                <span class="metric-value" style="color: #ffaa00;" id="alert-count">3</span>
            </div>
            <div class="metric">
                <span class="metric-name">ç³»çµ±ç‹€æ…‹</span>
                <span class="metric-value" style="color: #00ff44;" id="system-status">æ­£å¸¸é‹è¡Œ</span>
            </div>
        </div>

        <!-- ç”Ÿç”¢çµ±è¨ˆ -->
        <div class="card">
            <h3>ğŸ“¦ ç”Ÿç”¢çµ±è¨ˆ</h3>
            <div class="chart-container">
                <canvas id="productionChart" class="chart"></canvas>
            </div>
            <div class="metric">
                <span class="metric-name">æœ¬é€±ç”¢é‡</span>
                <span class="metric-value" style="color: #00ff44;" id="weekly-production">12,450 pcs</span>
            </div>
            <div class="metric">
                <span class="metric-name">ç›®æ¨™é”æˆç‡</span>
                <span class="metric-value" style="color: #00ff44;" id="target-achievement">104.2%</span>
            </div>
        </div>
    </div>

    <div class="timestamp">
        æœ€å¾Œæ›´æ–°: <span id="last-update"></span>
    </div>

    <script>
        // æ¨¡æ“¬æ•¸æ“šæ›´æ–°
        function updateMetrics() {
            // æ›´æ–°è‰¯ç‡
            const yieldRate = (95 + Math.random() * 5).toFixed(1);
            document.getElementById('yield-rate').textContent = yieldRate + '%';
            
            // æ›´æ–°æº«åº¦
            const temperature = Math.floor(180 + Math.random() * 15);
            document.getElementById('temperature').textContent = temperature;
            
            // æ›´æ–°å…¶ä»–åƒæ•¸
            const pressure = (2.5 + Math.random() * 0.6).toFixed(1);
            document.getElementById('pressure').textContent = pressure + ' MPa';
            
            const etchRate = Math.floor(40 + Math.random() * 10);
            document.getElementById('etch-rate').textContent = etchRate + ' Î¼m/min';
            
            const impedance = (49 + Math.random() * 2).toFixed(1);
            document.getElementById('impedance').textContent = impedance + ' Î©';
            
            const oee = (90 + Math.random() * 8).toFixed(1);
            document.getElementById('oee').textContent = oee + '%';
            
            const production = Math.floor(1800 + Math.random() * 100);
            document.getElementById('production').textContent = production.toLocaleString() + ' pcs';
            
            const cpk = (1.3 + Math.random() * 0.7).toFixed(2);
            document.getElementById('cpk').textContent = cpk;
            
            // æ›´æ–°æ™‚é–“æˆ³
            document.getElementById('last-update').textContent = new Date().toLocaleString('zh-TW');
        }

        // æ§åˆ¶é¢æ¿åŠŸèƒ½
        function toggleProcess(mode) {
            const buttons = document.querySelectorAll('.control-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const alerts = document.querySelector('.card h3').parentElement;
            if (mode === 'manual') {
                showAlert('ç³»çµ±å·²åˆ‡æ›è‡³æ‰‹å‹•æ¨¡å¼', 'warning');
            } else {
                showAlert('ç³»çµ±å·²åˆ‡æ›è‡³è‡ªå‹•æ¨¡å¼', 'info');
            }
        }

        function emergencyStop() {
            showAlert('ç·Šæ€¥åœæ­¢å·²å•Ÿå‹•ï¼æ‰€æœ‰è¨­å‚™åœæ­¢é‹ä½œ', 'error');
            document.getElementById('system-status').textContent = 'ç·Šæ€¥åœæ­¢';
            document.getElementById('system-status').style.color = '#ff4444';
        }

        function resetAlarms() {
            showAlert('è­¦å ±å·²é‡ç½®', 'info');
            document.getElementById('alert-count').textContent = '0';
            document.getElementById('system-status').textContent = 'æ­£å¸¸é‹è¡Œ';
            document.getElementById('system-status').style.color = '#00ff44';
        }

        function showAlert(message, type) {
            // é€™è£¡å¯ä»¥å¯¦ç¾æ›´è¤‡é›œçš„è­¦å ±é¡¯ç¤ºé‚è¼¯
            console.log(`${type}: ${message}`);
        }

        // ç°¡å–®çš„åœ–è¡¨ç¹ªè£½
        function drawCharts() {
            // å“è³ªè¶¨å‹¢åœ–
            const qualityCanvas = document.getElementById('qualityChart');
            const qualityCtx = qualityCanvas.getContext('2d');
            qualityCanvas.width = qualityCanvas.offsetWidth;
            qualityCanvas.height = qualityCanvas.offsetHeight;
            
            qualityCtx.strokeStyle = '#00ff44';
            qualityCtx.lineWidth = 3;
            qualityCtx.beginPath();
            
            const points = 50;
            for (let i = 0; i < points; i++) {
                const x = (i / points) * qualityCanvas.width;
                const y = qualityCanvas.height / 2 + Math.sin(i * 0.2) * 30 + (Math.random() - 0.5) * 20;
                
                if (i === 0) {
                    qualityCtx.moveTo(x, y);
                } else {
                    qualityCtx.lineTo(x, y);
                }
            }
            qualityCtx.stroke();

            // ç”Ÿç”¢çµ±è¨ˆåœ– (æŸ±ç‹€åœ–)
            const productionCanvas = document.getElementById('productionChart');
            const productionCtx = productionCanvas.getContext('2d');
            productionCanvas.width = productionCanvas.offsetWidth;
            productionCanvas.height = productionCanvas.offsetHeight;
            
            const barWidth = productionCanvas.width / 7;
            const maxHeight = productionCanvas.height - 20;
            
            for (let i = 0; i < 7; i++) {
                const height = Math.random() * maxHeight;
                const x = i * barWidth + 10;
                const y = productionCanvas.height - height;
                
                productionCtx.fillStyle = `hsl(${120 + i * 30}, 70%, 60%)`;
                productionCtx.fillRect(x, y, barWidth - 5, height);
            }
        }

        // åˆå§‹åŒ–
        updateMetrics();
        drawCharts();

        // å®šæœŸæ›´æ–°æ•¸æ“š
        setInterval(updateMetrics, 3000);
        setInterval(drawCharts, 10000);

        // æ·»åŠ ä¸€äº›éš¨æ©Ÿäº‹ä»¶
        setInterval(() => {
            const events = [
                'è¨­å‚™#3å®Œæˆæ ¡æº–',
                'æ‰¹æ¬¡#A247å“æª¢é€šé',
                'åŸæ–™åº«å­˜è£œå……å®Œæˆ',
                'å¤œç­äº¤æ¥ä½œæ¥­é–‹å§‹'
            ];
            
            const randomEvent = events[Math.floor(Math.random() * events.length)];
            console.log('ç³»çµ±äº‹ä»¶:', randomEvent);
        }, 15000);
    </script>
</body>
</html>