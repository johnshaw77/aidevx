<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPCè»Ÿæ¿è£½ç¨‹è‰¯ç‡å„ªåŒ–å™¨ - AiDevX</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e6ed;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .back-home {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #64ffda;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            background: rgba(100, 255, 218, 0.1);
            border-radius: 25px;
            border: 1px solid rgba(100, 255, 218, 0.3);
            transition: all 0.3s ease;
        }

        .back-home:hover {
            background: rgba(100, 255, 218, 0.2);
            transform: translateX(-5px);
        }

        h1 {
            color: #64ffda;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #64ffda, #bb86fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: #b3b3b3;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel h3 {
            color: #bb86fc;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #e0e6ed;
            font-weight: 500;
        }

        input[type="number"], select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #e0e6ed;
            font-size: 1rem;
        }

        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #64ffda;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.3);
        }

        .btn {
            background: linear-gradient(45deg, #64ffda, #bb86fc);
            color: #0a0a0a;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(100, 255, 218, 0.3);
        }

        .results {
            grid-column: span 2;
        }

        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .result-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .yield-excellent { color: #4caf50; }
        .yield-good { color: #8bc34a; }
        .yield-warning { color: #ff9800; }
        .yield-poor { color: #f44336; }

        .chart-container {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
        }

        .chart {
            height: 300px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: end;
            justify-content: space-around;
            padding: 20px;
            position: relative;
        }

        .bar {
            background: linear-gradient(to top, #64ffda, #bb86fc);
            border-radius: 5px 5px 0 0;
            width: 40px;
            transition: height 0.5s ease;
            position: relative;
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: #b3b3b3;
        }

        .recommendations {
            margin-top: 30px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
        }

        .recommendations h3 {
            color: #ffd700;
            margin-bottom: 15px;
        }

        .recommendation {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #ffd700;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .results {
                grid-column: span 1;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../" class="back-home">â† è¿”å›é¦–é </a>
        
        <div class="header">
            <h1>ğŸ”§ FPCè»Ÿæ¿è£½ç¨‹è‰¯ç‡å„ªåŒ–å™¨</h1>
            <p class="subtitle">æ™ºæ…§è£½é€  Â· è£½ç¨‹åƒæ•¸å„ªåŒ– Â· è‰¯ç‡é æ¸¬åˆ†æ</p>
        </div>

        <div class="main-content">
            <div class="panel">
                <h3>ğŸ“Š è£½ç¨‹åƒæ•¸è¨­å®š</h3>
                <div class="form-group">
                    <label for="temperature">å£“åˆæº«åº¦ (Â°C)</label>
                    <input type="number" id="temperature" min="150" max="220" value="185" step="5">
                </div>
                <div class="form-group">
                    <label for="pressure">å£“åˆå£“åŠ› (MPa)</label>
                    <input type="number" id="pressure" min="1.0" max="5.0" value="2.5" step="0.1">
                </div>
                <div class="form-group">
                    <label for="time">å£“åˆæ™‚é–“ (åˆ†é˜)</label>
                    <input type="number" id="time" min="30" max="180" value="90" step="10">
                </div>
                <div class="form-group">
                    <label for="speed">ç·šé€Ÿåº¦ (m/min)</label>
                    <input type="number" id="speed" min="0.5" max="3.0" value="1.5" step="0.1">
                </div>
                <div class="form-group">
                    <label for="thickness">åŸºæåšåº¦ (Î¼m)</label>
                    <input type="number" id="thickness" min="12" max="50" value="25" step="1">
                </div>
                <div class="form-group">
                    <label for="copper">éŠ…åšåº¦ (Î¼m)</label>
                    <input type="number" id="copper" min="9" max="35" value="18" step="1">
                </div>
                <button class="btn" onclick="optimizeYield()">ğŸ¯ åˆ†æå„ªåŒ–</button>
            </div>

            <div class="panel">
                <h3>âš¡ å³æ™‚è£½ç¨‹ç‹€æ…‹</h3>
                <div class="result-cards">
                    <div class="result-card">
                        <div id="currentYield" class="result-value yield-good">--</div>
                        <div>é æ¸¬è‰¯ç‡</div>
                    </div>
                    <div class="result-card">
                        <div id="efficiency" class="result-value">--</div>
                        <div>è£½ç¨‹æ•ˆç‡</div>
                    </div>
                    <div class="result-card">
                        <div id="quality" class="result-value">--</div>
                        <div>å“è³ªæŒ‡æ¨™</div>
                    </div>
                    <div class="result-card">
                        <div id="cost" class="result-value">--</div>
                        <div>ç›¸å°æˆæœ¬</div>
                    </div>
                </div>

                <div class="chart-container">
                    <h4>ğŸ“ˆ åƒæ•¸å½±éŸ¿åˆ†æ</h4>
                    <div class="chart" id="impactChart">
                        <div class="bar" id="bar1"><span class="bar-label">æº«åº¦</span></div>
                        <div class="bar" id="bar2"><span class="bar-label">å£“åŠ›</span></div>
                        <div class="bar" id="bar3"><span class="bar-label">æ™‚é–“</span></div>
                        <div class="bar" id="bar4"><span class="bar-label">é€Ÿåº¦</span></div>
                        <div class="bar" id="bar5"><span class="bar-label">åŸºæ</span></div>
                        <div class="bar" id="bar6"><span class="bar-label">éŠ…åš</span></div>
                    </div>
                </div>
            </div>

            <div class="panel results">
                <div class="recommendations" id="recommendations" style="display: none;">
                    <h3>ğŸ¯ å„ªåŒ–å»ºè­°</h3>
                    <div id="recommendationList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function optimizeYield() {
            // ç²å–åƒæ•¸å€¼
            const params = {
                temperature: parseFloat(document.getElementById('temperature').value),
                pressure: parseFloat(document.getElementById('pressure').value),
                time: parseFloat(document.getElementById('time').value),
                speed: parseFloat(document.getElementById('speed').value),
                thickness: parseFloat(document.getElementById('thickness').value),
                copper: parseFloat(document.getElementById('copper').value)
            };

            // è¨ˆç®—è‰¯ç‡ (åŸºæ–¼è£½ç¨‹å·¥ç¨‹ç¶“é©—çš„æ¨¡æ“¬ç®—æ³•)
            let yield = calculateYield(params);
            let efficiency = calculateEfficiency(params);
            let quality = calculateQuality(params);
            let cost = calculateCost(params);

            // æ›´æ–°çµæœé¡¯ç¤º
            updateResults(yield, efficiency, quality, cost);

            // æ›´æ–°å½±éŸ¿åœ–è¡¨
            updateImpactChart(params);

            // ç”Ÿæˆå„ªåŒ–å»ºè­°
            generateRecommendations(params, yield);
        }

        function calculateYield(params) {
            // åŸºæ–¼è£½ç¨‹åƒæ•¸çš„è‰¯ç‡è¨ˆç®—æ¨¡å‹
            let baseYield = 95;
            
            // æº«åº¦å½±éŸ¿ (185Â°C ç‚ºæœ€ä½³)
            let tempDiff = Math.abs(params.temperature - 185);
            baseYield -= tempDiff * 0.3;
            
            // å£“åŠ›å½±éŸ¿ (2.5 MPa ç‚ºæœ€ä½³)
            let pressureDiff = Math.abs(params.pressure - 2.5);
            baseYield -= pressureDiff * 2;
            
            // æ™‚é–“å½±éŸ¿ (90åˆ†é˜ç‚ºæœ€ä½³)
            let timeDiff = Math.abs(params.time - 90);
            baseYield -= timeDiff * 0.05;
            
            // é€Ÿåº¦å½±éŸ¿ (1.5 m/min ç‚ºæœ€ä½³)
            let speedDiff = Math.abs(params.speed - 1.5);
            baseYield -= speedDiff * 1.5;
            
            // åšåº¦åŒ¹é…æ€§
            if (params.thickness < 20 && params.copper > 25) baseYield -= 3;
            if (params.thickness > 40 && params.copper < 12) baseYield -= 2;
            
            return Math.max(70, Math.min(99.5, baseYield));
        }

        function calculateEfficiency(params) {
            // è£½ç¨‹æ•ˆç‡è¨ˆç®—
            let baseEff = 85;
            
            // æº«åº¦è¶Šé«˜æ•ˆç‡è¶Šé«˜ï¼Œä½†éé«˜æœƒé™ä½è‰¯ç‡
            baseEff += (params.temperature - 170) * 0.1;
            
            // å£“åŠ›å½±éŸ¿
            baseEff += (params.pressure - 2.0) * 2;
            
            // é€Ÿåº¦å½±éŸ¿
            baseEff += params.speed * 5;
            
            // æ™‚é–“å½±éŸ¿ï¼ˆæ™‚é–“è¶ŠçŸ­æ•ˆç‡è¶Šé«˜ï¼‰
            baseEff += (120 - params.time) * 0.1;
            
            return Math.max(60, Math.min(98, baseEff));
        }

        function calculateQuality(params) {
            // å“è³ªæŒ‡æ¨™è¨ˆç®—
            let quality = 90;
            
            // æº«åº¦ç©©å®šæ€§
            let tempOptimal = (params.temperature >= 180 && params.temperature <= 190) ? 5 : 0;
            quality += tempOptimal;
            
            // å£“åŠ›ç©©å®šæ€§
            let pressureOptimal = (params.pressure >= 2.2 && params.pressure <= 2.8) ? 3 : -2;
            quality += pressureOptimal;
            
            // éŠ…åšèˆ‡åŸºæåŒ¹é…åº¦
            let ratio = params.copper / params.thickness;
            if (ratio >= 0.5 && ratio <= 0.8) quality += 2;
            else quality -= 1;
            
            return Math.max(75, Math.min(97, quality));
        }

        function calculateCost(params) {
            // æˆæœ¬æŒ‡æ¨™è¨ˆç®— (100ç‚ºåŸºæº–)
            let cost = 100;
            
            // æº«åº¦æˆæœ¬
            cost += (params.temperature - 185) * 0.2;
            
            // å£“åŠ›æˆæœ¬
            cost += params.pressure * 2;
            
            // æ™‚é–“æˆæœ¬
            cost += params.time * 0.1;
            
            // ææ–™æˆæœ¬
            cost += params.copper * 0.5 + params.thickness * 0.3;
            
            return Math.max(85, Math.min(120, cost));
        }

        function updateResults(yield, efficiency, quality, cost) {
            // æ›´æ–°è‰¯ç‡é¡¯ç¤º
            const yieldElement = document.getElementById('currentYield');
            yieldElement.textContent = yield.toFixed(1) + '%';
            
            // è¨­å®šé¡è‰²
            yieldElement.className = 'result-value';
            if (yield >= 95) yieldElement.classList.add('yield-excellent');
            else if (yield >= 90) yieldElement.classList.add('yield-good');
            else if (yield >= 85) yieldElement.classList.add('yield-warning');
            else yieldElement.classList.add('yield-poor');

            document.getElementById('efficiency').textContent = efficiency.toFixed(1) + '%';
            document.getElementById('quality').textContent = quality.toFixed(1) + '%';
            document.getElementById('cost').textContent = cost.toFixed(0);
        }

        function updateImpactChart(params) {
            const impacts = [
                Math.abs(params.temperature - 185) * 2, // æº«åº¦å½±éŸ¿
                Math.abs(params.pressure - 2.5) * 20,   // å£“åŠ›å½±éŸ¿
                Math.abs(params.time - 90) * 0.5,       // æ™‚é–“å½±éŸ¿
                Math.abs(params.speed - 1.5) * 15,      // é€Ÿåº¦å½±éŸ¿
                Math.abs(params.thickness - 25) * 1,    // åŸºæå½±éŸ¿
                Math.abs(params.copper - 18) * 2        // éŠ…åšå½±éŸ¿
            ];

            // æ­£è¦åŒ–åˆ° 0-100%
            const maxImpact = Math.max(...impacts);
            impacts.forEach((impact, index) => {
                const normalizedHeight = maxImpact > 0 ? (impact / maxImpact) * 100 : 20;
                document.getElementById(`bar${index + 1}`).style.height = normalizedHeight + '%';
            });
        }

        function generateRecommendations(params, currentYield) {
            const recommendations = [];
            
            // æº«åº¦å»ºè­°
            if (Math.abs(params.temperature - 185) > 10) {
                recommendations.push('ğŸŒ¡ï¸ å»ºè­°èª¿æ•´å£“åˆæº«åº¦è‡³ 180-190Â°C ç¯„åœï¼Œç›®å‰æº«åº¦åé›¢æœ€ä½³å€¼');
            }
            
            // å£“åŠ›å»ºè­°
            if (params.pressure < 2.2) {
                recommendations.push('â¬†ï¸ å»ºè­°æé«˜å£“åˆå£“åŠ›è‡³ 2.2-2.8 MPaï¼Œç•¶å‰å£“åŠ›å¯èƒ½å°è‡´æ¥åˆä¸è‰¯');
            } else if (params.pressure > 3.0) {
                recommendations.push('â¬‡ï¸ å»ºè­°é™ä½å£“åˆå£“åŠ›ï¼Œéé«˜å£“åŠ›å¯èƒ½é€ æˆåŸºæè®Šå½¢');
            }
            
            // æ™‚é–“å»ºè­°
            if (params.time < 60) {
                recommendations.push('â° å»ºè­°å»¶é•·å£“åˆæ™‚é–“è‡³ 80-100 åˆ†é˜ï¼Œç¢ºä¿å……åˆ†å›ºåŒ–');
            } else if (params.time > 120) {
                recommendations.push('âš¡ å¯é©åº¦ç¸®çŸ­å£“åˆæ™‚é–“ä»¥æé«˜æ•ˆç‡ï¼Œé¿å…éåº¦å›ºåŒ–');
            }
            
            // ææ–™åŒ¹é…å»ºè­°
            const ratio = params.copper / params.thickness;
            if (ratio > 0.8) {
                recommendations.push('ğŸ“ éŠ…åšèˆ‡åŸºææ¯”ä¾‹åé«˜ï¼Œå»ºè­°èª¿æ•´ä»¥é¿å…ç¿¹æ›²å•é¡Œ');
            }
            
            // è‰¯ç‡æå‡å»ºè­°
            if (currentYield < 90) {
                recommendations.push('ğŸ¯ ç•¶å‰è‰¯ç‡åä½ï¼Œå»ºè­°é‡é»æª¢æŸ¥æº«åº¦æ§åˆ¶ç²¾åº¦å’Œå£“åŠ›å‡å‹»æ€§');
            }

            // é¡¯ç¤ºå»ºè­°
            if (recommendations.length > 0) {
                const recommendationList = document.getElementById('recommendationList');
                recommendationList.innerHTML = recommendations.map(rec => 
                    `<div class="recommendation">${rec}</div>`
                ).join('');
                document.getElementById('recommendations').style.display = 'block';
            }
        }

        // é é¢åŠ è¼‰æ™‚åŸ·è¡Œä¸€æ¬¡åˆ†æ
        window.onload = function() {
            optimizeYield();
        };
    </script>
</body>
</html>