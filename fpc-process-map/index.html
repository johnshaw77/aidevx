<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FPC è»Ÿæ¿è£½ç¨‹æ¶æ§‹åœ–</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+TC:wght@300;400;600;700&family=JetBrains+Mono:wght@400&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #060a13;
    color: #c8cdd8;
    font-family: 'Noto Sans TC', sans-serif;
    min-height: 100vh;
    overflow-x: auto;
  }

  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 28px;
    background: linear-gradient(135deg, #0a0f1e 0%, #0f1528 100%);
    border-bottom: 1px solid rgba(0,200,255,0.1);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .header .logo {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    color: #00c8ff;
  }

  .header .sep { color: #1e2a3a; }

  .header .title {
    font-size: 0.85rem;
    color: #6b7a8d;
  }

  .home-link {
    color: #4a5568;
    text-decoration: none;
    font-size: 0.8rem;
    transition: color 0.2s;
  }
  .home-link:hover { color: #00c8ff; }

  .main {
    padding: 32px 28px;
    max-width: 1400px;
    margin: 0 auto;
  }

  /* Legend */
  .legend {
    display: flex;
    gap: 20px;
    margin-bottom: 28px;
    flex-wrap: wrap;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.72rem;
    color: #6b7a8d;
  }

  .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 3px;
  }

  /* Phase Groups */
  .phase-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    font-weight: 600;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
    padding-top: 8px;
  }

  .phase-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: rgba(255,255,255,0.05);
  }

  .phase-label.prep { color: #38bdf8; }
  .phase-label.inner { color: #a78bfa; }
  .phase-label.outer { color: #fbbf24; }
  .phase-label.finish { color: #34d399; }
  .phase-label.qa { color: #f87171; }

  /* Flow */
  .flow {
    display: flex;
    gap: 8px;
    align-items: flex-start;
    margin-bottom: 32px;
    overflow-x: auto;
    padding-bottom: 8px;
  }

  .step {
    min-width: 155px;
    max-width: 170px;
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 14px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.25s;
    flex-shrink: 0;
    position: relative;
  }

  .step:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.12);
    transform: translateY(-3px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
  }

  .step.active {
    border-color: rgba(0,200,255,0.3);
    background: rgba(0,200,255,0.04);
  }

  .step::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    border-radius: 14px 14px 0 0;
  }

  .step.prep::before { background: linear-gradient(90deg, #0ea5e9, #38bdf8); }
  .step.inner::before { background: linear-gradient(90deg, #7c3aed, #a78bfa); }
  .step.outer::before { background: linear-gradient(90deg, #d97706, #fbbf24); }
  .step.finish::before { background: linear-gradient(90deg, #059669, #34d399); }
  .step.qa::before { background: linear-gradient(90deg, #dc2626, #f87171); }

  .step-num {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.6rem;
    color: #3b4252;
    margin-bottom: 6px;
  }

  .step-icon {
    font-size: 1.6rem;
    margin-bottom: 8px;
  }

  .step-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: #e0e6f0;
    margin-bottom: 4px;
  }

  .step-en {
    font-size: 0.65rem;
    color: #4a5568;
    font-family: 'JetBrains Mono', monospace;
  }

  .arrow {
    display: flex;
    align-items: center;
    color: #1e2a3a;
    font-size: 1.2rem;
    flex-shrink: 0;
    padding-top: 30px;
  }

  /* Detail Panel */
  .detail-panel {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 16px;
    padding: 28px;
    margin-top: 8px;
    display: none;
  }

  .detail-panel.show { display: block; }

  .detail-header {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 20px;
  }

  .detail-icon { font-size: 2rem; }

  .detail-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: #f0f2f6;
  }

  .detail-subtitle {
    font-size: 0.8rem;
    color: #4a5568;
    font-family: 'JetBrains Mono', monospace;
  }

  .detail-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
  }

  .detail-section h3 {
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #4a5568;
    margin-bottom: 10px;
    font-weight: 600;
  }

  .detail-list {
    list-style: none;
  }

  .detail-list li {
    font-size: 0.82rem;
    color: #9ca3af;
    padding: 5px 0;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .detail-list li::before {
    content: 'â€º';
    color: #00c8ff;
    font-weight: bold;
  }

  .param-tag {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    background: rgba(99,102,241,0.1);
    color: #a5b4fc;
    padding: 2px 8px;
    border-radius: 4px;
    margin-left: auto;
    flex-shrink: 0;
  }

  .defect-tag {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.7rem;
    background: rgba(239,68,68,0.1);
    color: #f87171;
    padding: 2px 8px;
    border-radius: 4px;
    margin-left: auto;
    flex-shrink: 0;
  }

  .hint {
    text-align: center;
    color: #2a2e38;
    font-size: 0.8rem;
    margin-top: 20px;
    animation: fade-pulse 3s infinite;
  }

  @keyframes fade-pulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.8; }
  }

  @media (max-width: 768px) {
    .flow { flex-direction: column; align-items: stretch; }
    .step { max-width: 100%; min-width: auto; }
    .arrow { transform: rotate(90deg); justify-content: center; padding: 0; }
    .detail-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <span class="logo">FPC PROCESS MAP</span>
    <span class="sep">|</span>
    <span class="title">è»Ÿæ¿è£½ç¨‹æ¶æ§‹åœ–</span>
  </div>
  <a href="/" class="home-link">â† é¦–é </a>
</div>

<div class="main">

  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:#38bdf8"></div>å‰è™•ç† Preparation</div>
    <div class="legend-item"><div class="legend-dot" style="background:#a78bfa"></div>å…§å±¤è£½ç¨‹ Inner Layer</div>
    <div class="legend-item"><div class="legend-dot" style="background:#fbbf24"></div>å¤–å±¤è£½ç¨‹ Outer Layer</div>
    <div class="legend-item"><div class="legend-dot" style="background:#34d399"></div>å¾Œæ®µè£½ç¨‹ Finishing</div>
    <div class="legend-item"><div class="legend-dot" style="background:#f87171"></div>å“è³ªæª¢é©— QA/QC</div>
    <div class="legend-item" style="margin-left:auto;color:#2a2e38">ğŸ‘† é»æ“Šç«™é»çœ‹è©³ç´°è³‡è¨Š</div>
  </div>

  <!-- Phase 1: Preparation -->
  <div class="phase-label prep">å‰è™•ç† Preparation</div>
  <div class="flow" id="flow-prep"></div>

  <!-- Phase 2: Inner Layer -->
  <div class="phase-label inner">å…§å±¤è£½ç¨‹ Inner Layer</div>
  <div class="flow" id="flow-inner"></div>

  <!-- Phase 3: Outer Layer -->
  <div class="phase-label outer">å¤–å±¤è£½ç¨‹ Outer Layer</div>
  <div class="flow" id="flow-outer"></div>

  <!-- Phase 4: Finishing -->
  <div class="phase-label finish">å¾Œæ®µè£½ç¨‹ Finishing</div>
  <div class="flow" id="flow-finish"></div>

  <!-- Phase 5: QA -->
  <div class="phase-label qa">å“è³ªæª¢é©— QA / QC</div>
  <div class="flow" id="flow-qa"></div>

  <!-- Detail -->
  <div class="detail-panel" id="detailPanel"></div>

  <div class="hint" id="hint">ğŸ‘† é»é¸ä»»ä¸€ç«™é»æŸ¥çœ‹è£½ç¨‹åƒæ•¸ã€è¨­å‚™èˆ‡å¸¸è¦‹ä¸è‰¯</div>
</div>

<script>
const processData = [
  // Preparation
  { phase: 'prep', num: '01', icon: 'ğŸ§¹', name: 'è£åˆ‡', en: 'Shearing', 
    desc: 'å°‡å¤§ç‰‡éŠ…ç®”åŸºæ¿ï¼ˆFCCLï¼‰è£åˆ‡æˆé©åˆåŠ å·¥çš„å°ºå¯¸',
    equipment: ['è‡ªå‹•è£åˆ‡æ©Ÿ', 'éŠ…ç®”åŸºæ¿æ¶'],
    params: [['åŸºæ¿åšåº¦', '12.5~50Î¼m'], ['éŠ…ç®”åšåº¦', '9~35Î¼m'], ['è£åˆ‡ç²¾åº¦', 'Â±0.5mm']],
    defects: [['æ¯›é‚Š', 'ä¸­'], ['åˆ®å‚·', 'ä½'], ['å°ºå¯¸åç§»', 'ä½']]
  },
  { phase: 'prep', num: '02', icon: 'ğŸ§ª', name: 'å‰è™•ç†æ¸…æ´—', en: 'Pre-treatment', 
    desc: 'åŒ–å­¸å¾®è•æ¸…æ´—éŠ…é¢ï¼Œå¢åŠ é™„è‘—åŠ›ï¼Œå»é™¤æ°§åŒ–å±¤',
    equipment: ['åŒ–å­¸æ¸…æ´—ç·š', 'å¾®è•æ§½', 'çƒ˜ä¹¾çˆ'],
    params: [['å¾®è•é‡', '0.5~1.5Î¼m'], ['æ¸…æ´—æº«åº¦', '25~35Â°C'], ['çƒ˜ä¹¾æº«åº¦', '80~100Â°C']],
    defects: [['æ¸…æ´—ä¸è‰¯', 'é«˜'], ['æ°§åŒ–æ®˜ç•™', 'ä¸­'], ['æ°´æ¼¬', 'ä½']]
  },

  // Inner Layer
  { phase: 'inner', num: '03', icon: 'ğŸï¸', name: 'è²¼è†œ / å£“è†œ', en: 'Dry Film Lamination', 
    desc: 'å°‡æ„Ÿå…‰ä¹¾è†œè²¼è¦†åœ¨éŠ…ç®”è¡¨é¢ï¼Œæº–å‚™æ›å…‰è½‰ç§»é›»è·¯åœ–å½¢',
    equipment: ['è‡ªå‹•è²¼è†œæ©Ÿ', 'çœŸç©ºå£“è†œæ©Ÿ'],
    params: [['å£“è†œæº«åº¦', '100~120Â°C'], ['å£“è†œå£“åŠ›', '2~4 kg/cmÂ²'], ['è†œåš', '15~40Î¼m']],
    defects: [['æ°£æ³¡', 'é«˜'], ['çšºè¤¶', 'ä¸­'], ['è²¼åˆä¸è‰¯', 'ä¸­']]
  },
  { phase: 'inner', num: '04', icon: 'ğŸ’¡', name: 'æ›å…‰', en: 'Exposure', 
    desc: 'UV å…‰é€éåº•ç‰‡å°‡é›»è·¯åœ–å½¢è½‰ç§»åˆ°ä¹¾è†œä¸Š',
    equipment: ['å¹³è¡Œå…‰æ›å…‰æ©Ÿ', 'LDI ç›´æ¥æˆåƒæ©Ÿ'],
    params: [['æ›å…‰èƒ½é‡', '40~80 mJ/cmÂ²'], ['å°ä½ç²¾åº¦', 'Â±15Î¼m'], ['ç·šå¯¬/ç·šè·', 'â‰¥30/30Î¼m']],
    defects: [['å°ä½åç§»', 'é«˜'], ['æ›å…‰ä¸è¶³/éåº¦', 'ä¸­'], ['åº•ç‰‡ç•°ç‰©', 'ä½']]
  },
  { phase: 'inner', num: '05', icon: 'ğŸ§«', name: 'é¡¯å½±', en: 'Developing', 
    desc: 'ç”¨ç¢³é…¸éˆ‰æº¶æ¶²å»é™¤æœªæ›å…‰çš„ä¹¾è†œï¼Œéœ²å‡ºéœ€è¦è•åˆ»çš„éŠ…é¢',
    equipment: ['é¡¯å½±æ©Ÿ', 'æ°´æ´—æ®µ'],
    params: [['é¡¯å½±æ¶²æ¿ƒåº¦', '0.8~1.2%'], ['æº«åº¦', '28~32Â°C'], ['é€Ÿåº¦', '1.5~3.0 m/min']],
    defects: [['é¡¯å½±ä¸è¶³', 'é«˜'], ['æ®˜è†œ', 'ä¸­'], ['å´è•', 'ä½']]
  },
  { phase: 'inner', num: '06', icon: 'âš—ï¸', name: 'è•åˆ»', en: 'Etching', 
    desc: 'ç”¨è•åˆ»æ¶²å»é™¤æœªè¢«ä¹¾è†œä¿è­·çš„éŠ…ç®”ï¼Œå½¢æˆé›»è·¯åœ–å½¢',
    equipment: ['è•åˆ»æ©Ÿ', 'é…¸æ€§è•åˆ»ç·š'],
    params: [['è•åˆ»æ¶²', 'CuClâ‚‚ / FeClâ‚ƒ'], ['æº«åº¦', '45~55Â°C'], ['è•åˆ»ä¿‚æ•¸', 'â‰¥3.0']],
    defects: [['è•åˆ»ä¸è¶³', 'é«˜'], ['éåº¦å´è•', 'é«˜'], ['ç·šå¯¬ç•°å¸¸', 'ä¸­']]
  },
  { phase: 'inner', num: '07', icon: 'ğŸ”', name: 'AOI æª¢æ¸¬', en: 'Auto Optical Inspection', 
    desc: 'è‡ªå‹•å…‰å­¸æª¢æ¸¬å…§å±¤ç·šè·¯ï¼Œæ¯”å°è¨­è¨ˆåœ–å½¢æ‰¾å‡ºç¼ºé™·',
    equipment: ['AOI æª¢æ¸¬æ©Ÿ', 'è¤‡æª¢ç«™'],
    params: [['æª¢å‡ºç‡', 'â‰¥99.5%'], ['èª¤å ±ç‡', 'â‰¤5%'], ['æœ€å°ç¼ºé™·', '15Î¼m']],
    defects: [['é–‹è·¯', 'é«˜'], ['çŸ­è·¯', 'é«˜'], ['ç¼ºå£', 'ä¸­']]
  },

  // Outer Layer
  { phase: 'outer', num: '08', icon: 'ğŸ“š', name: 'å£“åˆ', en: 'Lamination', 
    desc: 'å°‡å…§å±¤æ¿ã€æ¥è‘—ç‰‡ï¼ˆBonding Sheetï¼‰ã€è¦†è“‹è†œå£“åˆæˆå¤šå±¤çµæ§‹',
    equipment: ['å¿«é€Ÿå£“åˆæ©Ÿ', 'çœŸç©ºå£“åˆæ©Ÿ', 'é ç–Šæ©Ÿ'],
    params: [['å£“åˆæº«åº¦', '160~190Â°C'], ['å£“åŠ›', '15~40 kg/cmÂ²'], ['æ™‚é–“', '45~90 min']],
    defects: [['æ°£æ³¡/åˆ†å±¤', 'é«˜'], ['æ¨¹è„‚æµå‹•ä¸è¶³', 'ä¸­'], ['å°ä½åç§»', 'ä¸­']]
  },
  { phase: 'outer', num: '09', icon: 'ğŸ”©', name: 'é‘½å­”', en: 'Drilling', 
    desc: 'ç”¨ CNC é‘½å­”æ©Ÿé‘½å‡ºå°é€šå­”ï¼ˆViaï¼‰å’Œé›¶ä»¶å­”',
    equipment: ['CNC é‘½å­”æ©Ÿ', 'é›·å°„é‘½å­”æ©Ÿ'],
    params: [['å­”å¾‘', '0.1~0.3mm'], ['ä½ç½®ç²¾åº¦', 'Â±25Î¼m'], ['é‘½é ­è½‰é€Ÿ', '80k~200k RPM']],
    defects: [['å­”ä½åç§»', 'é«˜'], ['æ¯›åˆº/æ¯›é‚Š', 'ä¸­'], ['å­”å£ç²—ç³™', 'ä¸­']]
  },
  { phase: 'outer', num: '10', icon: 'âš¡', name: 'é›»é', en: 'Plating', 
    desc: 'å­”å£åŒ–å­¸ééŠ…ï¼ˆPTHï¼‰+ é›»ééŠ…ï¼Œå»ºç«‹å±¤é–“å°é€š',
    equipment: ['åŒ–å­¸éŠ…ç·š', 'é›»ééŠ…ç·š', 'é™¤è† æ¸£æ©Ÿ'],
    params: [['ééŠ…åšåº¦', '15~25Î¼m'], ['é›»æµå¯†åº¦', '1.5~2.5 ASD'], ['å‡å‹»æ€§', 'â‰¥80%']],
    defects: [['ééŠ…ä¸è‰¯', 'é«˜'], ['å­”å£ç©ºæ´', 'ä¸­'], ['åšåº¦ä¸å‡', 'ä¸­']]
  },

  // Finishing
  { phase: 'finish', num: '11', icon: 'ğŸŸ¢', name: 'é˜²ç„Š', en: 'Solder Mask', 
    desc: 'å°åˆ·æˆ–æ›å…‰é˜²ç„Šæ²¹å¢¨ï¼Œä¿è­·ç·šè·¯ä¸¦å®šç¾©ç„Šå¢Šé–‹å£',
    equipment: ['ç¶²å°æ©Ÿ', 'é˜²ç„Šæ›å…‰æ©Ÿ', 'çƒ˜çƒ¤çˆ'],
    params: [['æ²¹å¢¨åšåº¦', '10~25Î¼m'], ['æ›å…‰èƒ½é‡', '200~500 mJ/cmÂ²'], ['çƒ˜çƒ¤', '150Â°C/60min']],
    defects: [['é˜²ç„Šåç§»', 'ä¸­'], ['é‡å­”/æ°£æ³¡', 'ä¸­'], ['é™„è‘—ä¸è‰¯', 'ä½']]
  },
  { phase: 'finish', num: '12', icon: 'âœ¨', name: 'è¡¨é¢è™•ç†', en: 'Surface Finish', 
    desc: 'ç„Šå¢Šè¡¨é¢è™•ç†ï¼Œç¢ºä¿å¯ç„Šæ€§ï¼ˆåŒ–é‡‘ / OSP / åŒ–éŒ«ç­‰ï¼‰',
    equipment: ['åŒ–é‡‘ç·š', 'OSP ç·š', 'åŒ–éŒ«ç·š'],
    params: [['é‡‘åšï¼ˆENIGï¼‰', '0.03~0.08Î¼m'], ['é³åš', '3~5Î¼m'], ['OSP è†œåš', '0.2~0.5Î¼m']],
    defects: [['é‡‘é¢ç™¼é»‘', 'ä¸­'], ['å¯ç„Šæ€§ä¸è‰¯', 'é«˜'], ['è†œåšä¸å‡', 'ä½']]
  },
  { phase: 'finish', num: '13', icon: 'âœ‚ï¸', name: 'æˆå‹', en: 'Routing / Punching', 
    desc: 'ç”¨ CNC éŠ‘åºŠæˆ–æ²–å‹æ¨¡å…·åˆ‡å‰²å‡ºç”¢å“å¤–å‹',
    equipment: ['CNC æˆå‹æ©Ÿ', 'æ²–åºŠ', 'é›·å°„åˆ‡å‰²æ©Ÿ'],
    params: [['å¤–å‹ç²¾åº¦', 'Â±50Î¼m'], ['éŠ‘åˆ€è½‰é€Ÿ', '30k~60k RPM'], ['è£œå¼·æ¿åšåº¦', '0.1~0.3mm']],
    defects: [['æ¯›é‚Š', 'ä¸­'], ['å°ºå¯¸åç§»', 'ä½'], ['æ¿å½æ¿ç¿¹', 'ä¸­']]
  },

  // QA
  { phase: 'qa', num: '14', icon: 'ğŸ”¬', name: 'é›»æ€§æ¸¬è©¦', en: 'Electrical Test', 
    desc: 'ç”¨é£›é‡æˆ–æ²»å…·æ¸¬è©¦é–‹è·¯/çŸ­è·¯ï¼Œç¢ºä¿é›»è·¯å°é€šæ­£ç¢º',
    equipment: ['é£›é‡æ¸¬è©¦æ©Ÿ', 'æ²»å…·æ¸¬è©¦æ©Ÿ'],
    params: [['æ¸¬è©¦é›»å£“', '50~250V'], ['çµ•ç·£é˜»æŠ—', 'â‰¥20MÎ©'], ['å°é€šé˜»æŠ—', 'â‰¤50Î©']],
    defects: [['é–‹è·¯', 'é«˜'], ['çŸ­è·¯', 'é«˜'], ['é˜»æŠ—ç•°å¸¸', 'ä¸­']]
  },
  { phase: 'qa', num: '15', icon: 'ğŸ“‹', name: 'çµ‚æª¢ / å‡ºè²¨', en: 'FQC / Shipment', 
    desc: 'å¤–è§€æª¢é©—ã€åŒ…è£ã€å‡ºè²¨å‰å“è³ªç¢ºèª',
    equipment: ['æ”¾å¤§é¡æª¢é©—å°', 'è‡ªå‹•åŒ…è£æ©Ÿ', 'æ†æº«æ†æ¿•å€‰'],
    params: [['AQL', '0.65~1.0'], ['åŒ…è£æ¿•åº¦', 'â‰¤30% RH'], ['å„²å­˜æº«åº¦', '15~25Â°C']],
    defects: [['å¤–è§€åˆ®å‚·', 'ä¸­'], ['å°ºå¯¸ NG', 'ä½'], ['æ¨™ç¤ºéŒ¯èª¤', 'ä½']]
  },
];

function renderFlows() {
  const groups = { prep: [], inner: [], outer: [], finish: [], qa: [] };
  processData.forEach(s => groups[s.phase].push(s));

  Object.entries(groups).forEach(([phase, steps]) => {
    const flow = document.getElementById('flow-' + phase);
    steps.forEach((s, i) => {
      if (i > 0) {
        const arrow = document.createElement('div');
        arrow.className = 'arrow';
        arrow.textContent = 'â€º';
        flow.appendChild(arrow);
      }

      const el = document.createElement('div');
      el.className = `step ${s.phase}`;
      el.innerHTML = `
        <div class="step-num">${s.num}</div>
        <div class="step-icon">${s.icon}</div>
        <div class="step-name">${s.name}</div>
        <div class="step-en">${s.en}</div>
      `;
      el.addEventListener('click', () => showDetail(s, el));
      flow.appendChild(el);
    });
  });
}

function showDetail(s, el) {
  // Toggle active
  document.querySelectorAll('.step').forEach(e => e.classList.remove('active'));
  el.classList.add('active');

  const panel = document.getElementById('detailPanel');
  document.getElementById('hint').style.display = 'none';

  const paramsHtml = s.params.map(([k, v]) => 
    `<li>${k} <span class="param-tag">${v}</span></li>`
  ).join('');

  const defectsHtml = s.defects.map(([k, level]) => {
    const colors = { 'é«˜': '#f87171', 'ä¸­': '#fbbf24', 'ä½': '#34d399' };
    return `<li>${k} <span class="defect-tag" style="background:${colors[level]}15;color:${colors[level]}">${level}</span></li>`;
  }).join('');

  const equipHtml = s.equipment.map(e => `<li>${e}</li>`).join('');

  panel.innerHTML = `
    <div class="detail-header">
      <div class="detail-icon">${s.icon}</div>
      <div>
        <div class="detail-title">${s.num}. ${s.name}</div>
        <div class="detail-subtitle">${s.en}</div>
      </div>
    </div>
    <p style="color:#9ca3af;font-size:0.88rem;margin-bottom:20px;line-height:1.6">${s.desc}</p>
    <div class="detail-grid">
      <div class="detail-section">
        <h3>âš™ï¸ è£½ç¨‹åƒæ•¸</h3>
        <ul class="detail-list">${paramsHtml}</ul>
      </div>
      <div class="detail-section">
        <h3>ğŸ­ è¨­å‚™</h3>
        <ul class="detail-list">${equipHtml}</ul>
      </div>
      <div class="detail-section">
        <h3>âš ï¸ å¸¸è¦‹ä¸è‰¯</h3>
        <ul class="detail-list">${defectsHtml}</ul>
      </div>
    </div>
  `;
  panel.className = 'detail-panel show';
  panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

renderFlows();
</script>

</body>
</html>
